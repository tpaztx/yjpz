(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-Wode-Sonpages-AddNewAddress"],{"0f81":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.addressBox[data-v-1c345b60]{padding-top:%?30?%}.addressBox .puttype[data-v-1c345b60]{padding:%?20?% %?20?% %?20?% %?32?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.addressBox .puttype > uni-view[data-v-1c345b60]:nth-child(1){width:%?160?%;font-size:%?30?%;color:#333}.addressBox .puttype > uni-view[data-v-1c345b60]:nth-child(2){display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.addressBox .puttype > uni-view:nth-child(2) uni-input[data-v-1c345b60]{-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:%?28?%;color:#333;height:%?60?%}.addressBox .setMr[data-v-1c345b60]{padding:%?30?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.addressBox .setMr uni-text[data-v-1c345b60]{color:#333;font-size:%?30?%;margin-left:%?20?%}.addressBox .BtnBox[data-v-1c345b60]{padding:0 %?30?%;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;position:fixed;bottom:%?30?%}.addressBox .BtnBox uni-button[data-v-1c345b60]{background-color:#f30231;color:#fff;font-size:%?34?%;font-weight:700;-webkit-border-radius:%?50?%;border-radius:%?50?%}',""]),t.exports=e},"4fd4":function(t,e,i){var a=i("0f81");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=i("4f06").default;s("78b9483e",a,!0,{sourceMap:!1,shadowMode:!1})},6714:function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=a(i("2843")),n=i("ee57"),o={components:{pcaPicker:s.default},onLoad:function(t){console.log("页面参数",t),t.edit&&t.id&&(this.edit=t.edit,this.addressID=t.id,uni.setNavigationBarTitle({title:"编辑地址"}),this.getUserAddress(t.id))},data:function(){return{defaultFlag:!1,addressID:"",edit:0,postdata:{name:"",mobile:"",province:"",city:"",area:"",address:"",default:"",is_time:0},is_time:["时间不限","周一至周五收货","周六日/节假日收货"],editMsg:{}}},methods:{getUserAddress:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.request.post("api/getUserAddress",{addressID:e},(function(e){if(console.log("用户地址",e.data),1==e.code){var i=JSON.stringify(e.data[0]);t.editMsg=JSON.parse(i),t.postdata=e.data[0]}}))},addNewAddress:function(){var t=this.postdata;t.name?t.mobile?t.province&&t.city&&t.area?t.address?1==this.edit?(this.postdata.addressID=this.addressID,this.request.post("api/updateUserAddress",this.postdata,(function(t){1==t.code?(uni.showToast({title:"修改成功成功!",duration:2e3,mask:!0}),setTimeout((function(){uni.redirectTo({url:"./Address"})}),1800)):uni.showToast({title:t.msg,icon:"none",duration:2e3})}))):this.request.post("api/insertAddress",t,(function(t){console.log("添加结果",t),1==t.code?(uni.showToast({title:"添加成功!",duration:2e3,mask:!0}),setTimeout((function(){uni.redirectTo({url:"./Address"})}),1800)):uni.showToast({title:t.msg,icon:"none",duration:2e3})})):uni.showToast({title:"请填写详细地址~~",icon:"none",duration:2e3}):uni.showToast({title:"请选择地址~~",icon:"none",duration:2e3}):uni.showToast({title:"您还没有填写电话号码~~",icon:"none",duration:2e3}):uni.showToast({title:"您还没有请填写姓名~~",icon:"none",duration:2e3})},checkTel:function(t){t&&(n.TEL_REG.test(t)||(uni.showToast({title:"您的电话号码格式错误~~",icon:"none",duration:2e3}),this.postdata.mobile=""))},chooseTime:function(t){var e=this;console.log(t),uni.showActionSheet({itemList:t,success:function(t){console.log("选中了",t.tapIndex),e.postdata.is_time=t.tapIndex}})},defaultEdiet:function(){this.defaultFlag?(this.defaultFlag=!1,this.postdata.default=""):(this.defaultFlag=!0,this.postdata.default="1")},getPCA:function(t){console.log(t);var e=t.province,i=t.city,a=t.area;console.log(e,i,a),this.postdata.province=e,this.postdata.city=i,this.postdata.area=a}}};e.default=o},a0788:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAB/ElEQVRYR+2XMWhTURSG/xPFNEgEAw4OHZzcRLvpoEjQqeBisggZKsm58LYgToKgY7Ygct9FkkUc7KaTUDootFOgXbsUurgIpUMQEsORBwmU2IZ78+6TBO5b37n//73//e/AIyzZRUvGiwCc9RsLCYeEpxIIlQiVCJXIugMh4UVN2BjzUUSeZcD3iZmtda33cLvdvpLP5/cA3PAIfQjgDjOf2GpaAyeCWuu7AL4T0UVbg/PmROTPaDR6EEXRjouWE3AibIx5JSJvXUzOmhWR10qpN646zsCVSuVCuVzeJqL7rmaTeRH5USqVHlar1ZGrhjNwYtDpdFaHw+E+gKuuhgCOAdxm5qM5zs7/x6G1fkpEnwFnjSozb84Dm5yZK+GJmdb6AxE9dzDvMLPL/D/SqYBbrdblYrHYI6KbFtAHhUJhrVar9S1mzx1JBZyoxnG8BmAXwKUZIINcLnevXq/30sCmrsSparwgotYMmJfMPOu+9XOkTjhxEhGK4/gbET06w3mr0Wg8JiKxppox6AV4XI3rAJJVd+2U3y8At5j5pw9Yb5WYwBhj1kXky3j7iIg8UUp99QXrHTgR1Fq/I6JIRN4rpSKfsJkAd7vdlcFg0O33+xvNZvP3wgP7BpzW8/bRZQ060Q/AWScdEg4JTyUQKhEqESqRdQdCwv854b+fkIAtjxnxhgAAAABJRU5ErkJggg=="},b78f:function(t,e,i){"use strict";var a=i("4fd4"),s=i.n(a);s.a},dc1c:function(t,e,i){"use strict";i.r(e);var a=i("6714"),s=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=s.a},e341:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return a}));var a={pcaPicker:i("2843").default},s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"addressBox"},[a("v-uni-view",{staticClass:"puttype"},[a("v-uni-view",[t._v("收货人")]),a("v-uni-view",[a("v-uni-input",{attrs:{type:"text",placeholder:"请输入收货人姓名","placeholder-style":"color:#999;font-size:28rpx"},model:{value:t.postdata.name,callback:function(e){t.$set(t.postdata,"name",e)},expression:"postdata.name"}})],1)],1),a("v-uni-view",{staticClass:"puttype"},[a("v-uni-view",[t._v("手机号")]),a("v-uni-view",[a("v-uni-input",{attrs:{type:"number",placeholder:"请输入手机号码","placeholder-style":"color:#999;font-size:28rpx"},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.checkTel(t.postdata.mobile)}},model:{value:t.postdata.mobile,callback:function(e){t.$set(t.postdata,"mobile",e)},expression:"postdata.mobile"}})],1)],1),a("v-uni-view",{staticClass:"puttype"},[a("v-uni-view",[t._v("选择地址")]),a("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$refs.pcaPicker.show()}}},[a("v-uni-input",{attrs:{disabled:"true",type:"text",placeholder:"请选择地区","placeholder-style":"color:#999;font-size:28rpx"},model:{value:t.postdata.province+t.postdata.city+t.postdata.area,callback:function(e){t.$set(t.postdata.province+t.postdata.city+t.postdata,"area",e)},expression:"postdata.province+postdata.city+postdata.area"}}),a("v-uni-image",{staticStyle:{width:"44rpx",height:"44rpx"},attrs:{src:i("a0788"),mode:""}})],1)],1),a("v-uni-view",{staticClass:"puttype"},[a("v-uni-view",[t._v("详细地址")]),a("v-uni-view",[a("v-uni-input",{attrs:{type:"text",placeholder:"请输入详细地址","placeholder-style":"color:#999;font-size:28rpx"},model:{value:t.postdata.address,callback:function(e){t.$set(t.postdata,"address",e)},expression:"postdata.address"}})],1)],1),a("v-uni-view",{staticClass:"puttype"},[a("v-uni-view",[t._v("收货时间")]),a("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.chooseTime(t.is_time)}}},[a("v-uni-input",{attrs:{type:"text",disabled:"true","placeholder-style":"color:#999;font-size:28rpx"},model:{value:t.is_time[t.postdata.is_time],callback:function(e){t.$set(t.is_time,t.postdata.is_time,e)},expression:"is_time[postdata.is_time]"}}),a("v-uni-image",{staticStyle:{width:"44rpx",height:"44rpx"},attrs:{src:i("a0788"),mode:""}})],1)],1),a("v-uni-view",{staticClass:"setMr",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.defaultEdiet.apply(void 0,arguments)}}},[a("v-uni-image",{staticStyle:{width:"44rpx",height:"44rpx"},attrs:{src:t.defaultFlag?"../../../static/wode/xuanzhong-hong.png":"../../../static/wode/dianpu_weixuan.png",mode:""}}),a("v-uni-text",[t._v("设为默认地址")])],1),a("v-uni-view",{staticClass:"BtnBox"},[a("v-uni-button",{attrs:{type:"default"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.addNewAddress.apply(void 0,arguments)}}},[t._v("保存")])],1),a("pcaPicker",{ref:"pcaPicker",on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.getPCA.apply(void 0,arguments)}}})],1)},n=[]},ee57:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TEL_REG=e.PASS_REG=e.ACC_REG=void 0;var a=/^[a-zA-Z0-9_-]{3,12}$/;e.ACC_REG=a;var s=/^[a-zA-Z0-9_-]{3,12}$/;e.PASS_REG=s;var n=/^[1][3,4,5,7,8][0-9]{9}$/;e.TEL_REG=n},f2b8:function(t,e,i){"use strict";i.r(e);var a=i("e341"),s=i("dc1c");for(var n in s)"default"!==n&&function(t){i.d(e,t,(function(){return s[t]}))}(n);i("b78f");var o,d=i("f0c5"),r=Object(d["a"])(s["default"],a["b"],a["c"],!1,null,"1c345b60",null,!1,a["a"],o);e["default"]=r.exports}}]);